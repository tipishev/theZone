#include "model.h"

static char world[WORLD_WIDTH][WORLD_HEIGHT] = {
//  0   1   2   3   4   5   6   7   8   9   A   B   C   D   E   F
  {'.','.','#','.','.','.','.','.','.','.','.','.','.','.','.','.'}, // 0
  {'#','Z','#','.','.','.','.','.','.','.','.','.','.','.','.','.'}, // 1
  {'#','.','#','.','.','.','.','.','.','.','.','.','.','Z','Z','.'}, // 2
  {'.','@','.','.','.','.','.','.','.','.','.','.','.','Z','Z','.'}, // 3
  {'.','.','#','.','.','.','.','.','.','.','.','.','.','.','.','.'}, // 4
  {'.','#','#','.','.','Z','.','.','.','.','.','.','.','.','.','.'}, // 5
  {'.','.','#','.','.','.','.','.','#','.','.','.','.','.','.','.'}, // 6
  {'.','.','#','#','#','.','.','.','#','#','.','.','.','.','.','.'}, // 7
  {'.','.','#','.','.','.','.','.','Z','#','.','.','.','.','.','.'}, // 8
  {'.','.','.','.','.','.','.','.','#','#','.','.','.','.','.','.'}, // 9
  {'.','.','.','.','.','.','.','.','#','.','.','.','.','.','.','.'}, // A
  {'.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.'}, // B
  {'.','Z','.','.','.','.','.','.','.','.','.','.','.','.','.','.'}, // C
  {'.','.','Z','.','.','.','.','.','.','.','.','.','.','.','.','.'}, // D
  {'.','.','.','.','.','.','.','.','.','.','.','.','.','.','#','#'}, // E
  {'.','.','.','.','.','.','.','.','.','.','.','.','.','.','#','Z'}  // F
};

void load_world() {
  // TODO read *a* world aka level from raw resources
}

void give_world_piece(GPoint position, char destination[VIEWPORT_HEIGHT][VIEWPORT_WIDTH]){
  GPoint upper_left;
  upper_left = position; // FIXME with max and min*/
  for (int i=0; i<VIEWPORT_HEIGHT; ++i) {
    for (int j=0; j<VIEWPORT_WIDTH; ++j) {
      destination[i][j] = world[upper_left.y + i][upper_left.x + j];
    }
  }
}
